<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
{namespace dioe=Dioevendor\Dioefunctions\ViewHelpers}

<article class="article-preview article-preview-layout-t{dioeArticle.layout} article-type-{dioeArticle.aType.val} {dioeArticle.aTaskCluster.classes}{f:if(condition:'{dioeArticle.startPin}', then:' articleStartPinned')}{f:if(condition:'{dioeArticle.catPin}', then:' articleKategoriePinned')}" id="a{dioeArticle.uId}">
	<f:switch expression="{dioeArticle.layout}">
		<f:case value="xxx">
			xxx
		</f:case>
		<f:defaultCase>
			<f:render partial="DioeArticle/ListItemHeader" arguments="{dioeArticle:dioeArticle}" />
			<f:switch expression="{dioeArticle.aType.view}">
				<f:case value="pub"> <f:comment>Vortrag, Veranstaltung</f:comment>
					pub - Publikation
				</f:case>
				<f:case value="vorverleh"> <f:comment>Vortrag, Veranstaltung, Lehre</f:comment>
					<ul class="termin-liste termin-einzeln">
						<f:render partial="DioeArticle/ListItemTermin" arguments="{dioeArticle:dioeArticle, settings:settings}" />
					</ul>
					<f:render partial="DioeArticle/ListItemMoreButton" arguments="{dioeArticle:dioeArticle, settings:settings}" />
				</f:case>
				<f:defaultCase>
					<div class="article-preview-content clearfix mt-3">
						<f:if condition="{dioeArticle.prevPic.originalResource.name}">
							<f:render partial="DioeArticle/ListItemImage" arguments="{dioeArticle:dioeArticle}" />
						</f:if>
						<f:if condition="{dioeArticle.prevText}">
							<f:then><f:format.html>{dioeArticle.prevText}</f:format.html></f:then>
							<f:else><f:format.html><f:format.crop maxCharacters="440" respectWordBoundaries="TRUE"><dioe:removeTextSpezials value="{dioeArticle.detailText}" /></f:format.crop></f:format.html></f:else>
						</f:if>
					</div>
					<f:render partial="DioeArticle/ListItemMoreButton" arguments="{dioeArticle:dioeArticle, settings:settings}" />
				</f:defaultCase>
			</f:switch>
			<!-- {dioeArticle.aHome.txt} -
			{dioeArticle.aType.txt} -
			{dioeArticle.aTaskCluster.txtl} -
			{dioeArticle.aDate -> f:format.date()} -
			{dioeArticle.prevTitle}, {dioeArticle.detailTitle} -
			{dioeArticle.prevText}, {dioeArticle.detailText} -
			{dioeArticle.startPin} -
			{dioeArticle.catPin} -
			{dioeArticle.prevPic.originalResource.name} -
			{dioeArticle.prevPicCroppingMode} -
			{dioeArticle.detailPic -> f:count()} -
			{dioeArticle.detailPicCroppingMode}
			Tags:
			<f:for each="{dioeArticle.tags.array}" as="tag">
				{tag.name},
			</f:for> -->
		</f:defaultCase>
	</f:switch>
</article>
