config {
  language = de
  locale_all = de_DE.utf8
  htmlTag_setParams = lang="de" dir="ltr" class="no-js"
  sys_language_uid = 0
  linkVars = L(1)
  sys_language_overlay = 1
  doctype = html5
  xmlprologue = none
  xhtml_cleaning = all
  disablePrefixComment = true
}
config.spamProtectEmailAddresses = ascii
config.pageRendererTemplateFile = fileadmin/templates/tslib_page_frontend.html

#RealUrl
config {
  prefixLocalAnchors = all
  simulateStaticDocuments = 0
  baseURL = https://dioe.at/
  tx_realurl_enable = 1
}

config.headerComment (
)

lib.parseFunc_RTE.externalBlocks.table.stdWrap.HTMLparser.tags.table.fixAttrib.class.list = contenttable, table-horizontal, table-horizontal-center

<INCLUDE_TYPOSCRIPT: source="FILE:fileadmin/templates/main_content_ts.txt">
<INCLUDE_TYPOSCRIPT: source="FILE:fileadmin/templates/libs_ts.txt">

// Debugging
[globalVar = TSFE : beUserLogin == 12]
page.bodyTagCObject.wrap = <body id="hp|" class="lang-de debugging">
[global]

// Sprachen
// Deutsch
lib.publikationGeplant = <div id="p0"><h2 class="text-center">geplant</h2></div><ul class="publicationen-liste">|</ul>
lib.rssTitle = Deutsch in Österreich
lib.rssDescription = Der FWF Spezialforschungsbereich (SFB) „Deutsch in Österreich. Variation – Kontakt – Perzeption” (F 60) beschäftigt sich mit der Vielfalt und dem Wandel der deutschen Sprache in Österreich. Die drei thematischen Säulen des Projekts sind Variation, Kontakt und Perzeption. Das heißt: Der SFB behandelt den Gebrauch und die subjektive Wahrnehmung von deutscher Sprache in Österreich und zeigt Einflüsse durch Kontaktsprachen auf.
lib.rssLang = de-de
lib.podcastTitle = Podcast DIOE (mp3)
lib.podcastDescription = Podcast des Spezialforschungsbereich Deutsch in Österreich
lib.homeButtonHome = <ul data-0="top: !auto; position:absolute;" data-top="top: !0; position:fixed;" class="nav nav-pills hidden-print"><li><span><a href="/" title="Startseite"><img data-0="transform:scale(0.3); opacity:0" data-200="transform:scale(0.3); opacity:0" data-390="transform:scale(1); opacity:1;" class="logo" src="fileadmin/img/dioe-logo-gray.png" alt=""></a></span></li>|
lib.homeButtonSub = <ul data-0="top: !auto; position:absolute;" data-top="top: !0; position:fixed;" class="nav nav-pills hidden-print"><li><span><a href="/" title="Startseite"><img class="logo" src="fileadmin/img/dioe-logo-gray.png" alt=""></a></span></li>|
// Englisch
[globalVar = GP:L = 1]
page.10.stdWrap.replacement.10 >
page.10.stdWrap.replacement.20 >
config {
  language = en
  locale_all = en_GB.utf8
  htmlTag_setParams = lang="en" dir="ltr" class="no-js"
  sys_language_uid = 1
}
page.bodyTagCObject.wrap = <body id="hp|" class="lang-en">
page.10 {
  10.25.value = <img src="fileadmin/img/flag_austria_kl.png" class="flag-icon">
  10.25.value = de
  10.25.typolink.additionalParams = &L=0
  35.value = Back to top
}
lib.artikel.wrap.cObject.20.value = activate JavaScript to load more articles
lib.artikelNachladen.10.20.30.value = activate JavaScript to load more articles
lib.termine.10.stdWrap.wrap = <div id="p0"><h2 class="text-center">planned</h2></div><ul class="termin-liste">|</ul>
lib.publikationGeplant = <div id="p0"><h2 class="text-center">planned</h2></div><ul class="publicationen-liste">|</ul>
lib.zurueck.value = Back
lib.rssTitle = German in Austria
lib.rssDescription = The FWF Special Research Area (SFB) “German in Austria. Variation – Contact –Perception” (F60) is a project that deals with the variety and change of the German language in Austria. The three thematic pillars of the project are Variation, Contact and Perception. This means that the SFB explores how the German language in Austria is used and perceived as well as how it has been influenced by other languages.
lib.podcastTitle = Podcast DIOE (mp3)
lib.podcastDescription = Podcast des Spezialforschungsbereich Deutsch in Österreich
lib.rssLang = en-GB
lib.homeButtonHome = <ul data-0="top: !auto; position:absolute;" data-top="top: !0; position:fixed;" class="nav nav-pills hidden-print"><li><span><a href="/en/" title="Home"><img data-0="transform:scale(0.3); opacity:0" data-200="transform:scale(0.3); opacity:0" data-390="transform:scale(1); opacity:1;" class="logo" src="fileadmin/img/dioe-logo-gray.png" alt=""></a></span></li>|
lib.homeButtonSub = <ul data-0="top: !auto; position:absolute;" data-top="top: !0; position:fixed;" class="nav nav-pills hidden-print"><li><span><a href="/en/" title="Home"><img class="logo" src="fileadmin/img/dioe-logo-gray.png" alt=""></a></span></li>|
[global]

// Debugging Englisch
[globalVar = GP:L = 1] && [globalVar = TSFE : beUserLogin == 12]
page.bodyTagCObject.wrap = <body id="hp|" class="lang-en debugging">
[global]

page.10.10.wrap < lib.homeButtonSub
// Startseite
[globalVar = TSFE:id = 1]
page.10 {
  5 = TEXT
  5.value (
<header class="main hidden-print">
  <img class="hero mountains active" data-0="transform: translateY(0%)" data-390="transform: translateY(70%)" src="fileadmin/img/mountains.png" />
  <img class="hero city" data-0="transform: translateY(0%)" data-390="transform: translateY(70%)" src="fileadmin/img/city.png" />
  <img class="logo" src="fileadmin/img/dioe-logo-gray.png" data-0="transform:translateY(0%); opacity: 1" data-390="transform:translateY(220%); opacity:.7">
</header>
)
  10.wrap < lib.homeButtonHome
  20 {
    20 < lib.artikel
    20.10.select.where = FIND_IN_SET('21',selected_categories)
    20.20.select.where = NOT FIND_IN_SET('21',selected_categories)
    20.20.select.max = 5
    20.wrap >
    20.wrap = <div class="article-list">|</div>
    99 < .10
    99.select.where = colPos = 99
    99.wrap = <article class="outro-text">|</article>
  }
}
[global]

// Aktuelles
[globalVar = TSFE:id = 6]
lib.mitarbeiterNurNamen < lib.isOne
page.10.20.20 < lib.artikel
page.10.20.20.10.select.where >
page.10.20.20.10.select.max = 10
page.10.20.20.20 >
[global]
[globalVar = TSFE:id = 6] && [globalVar = GP:getlist = 1]
page >
page < lib.artikelNachladen
page.10.20.select.where >
[global]

// Task-Cluster A
[globalVar = TSFE:id = 14]
lib.sfbAndWhere = FIND_IN_SET('16',selected_categories)
lib.mitarbeiterNurNamen < lib.isOne
page.10.20.15 < lib.mitarbeiter
page.10.20.15.select.andWhere = FIND_IN_SET('24',selected_categories)
page.10.20.20 < lib.artikel
page.10.20.20.10.select.andWhere < lib.sfbAndWhere
page.10.20.20.20.select.andWhere < lib.sfbAndWhere
[global]
[globalVar = TSFE:id = 14] && [globalVar = GP:getlist = 1]
page >
page < lib.artikelNachladen
page.10.20.select.andWhere < lib.sfbAndWhere
[global]

// Task-Cluster B
[globalVar = TSFE:id = 15]
lib.sfbAndWhere = FIND_IN_SET('17',selected_categories)
lib.mitarbeiterNurNamen < lib.isOne
page.10.20.15 < lib.mitarbeiter
page.10.20.15.select.andWhere = FIND_IN_SET('26',selected_categories) OR FIND_IN_SET('27',selected_categories) OR FIND_IN_SET('28',selected_categories)
page.10.20.20 < lib.artikel
page.10.20.20.10.select.andWhere < lib.sfbAndWhere
page.10.20.20.20.select.andWhere < lib.sfbAndWhere
[global]
[globalVar = TSFE:id = 15] && [globalVar = GP:getlist = 1]
page >
page < lib.artikelNachladen
page.10.20.select.andWhere < lib.sfbAndWhere
[global]

// Task-Cluster C
[globalVar = TSFE:id = 16]
lib.sfbAndWhere = FIND_IN_SET('18',selected_categories)
lib.mitarbeiterNurNamen < lib.isOne
page.10.20.15 < lib.mitarbeiter
page.10.20.15.select.andWhere = FIND_IN_SET('30',selected_categories) OR FIND_IN_SET('31',selected_categories)
page.10.20.20 < lib.artikel
page.10.20.20.10.select.andWhere < lib.sfbAndWhere
page.10.20.20.20.select.andWhere < lib.sfbAndWhere
[global]
[globalVar = TSFE:id = 16] && [globalVar = GP:getlist = 1]
page >
page < lib.artikelNachladen
page.10.20.select.andWhere < lib.sfbAndWhere
[global]

// Task-Cluster D
[globalVar = TSFE:id = 17]
lib.sfbAndWhere = FIND_IN_SET('19',selected_categories)
lib.mitarbeiterNurNamen < lib.isOne
page.10.20.15 < lib.mitarbeiter
page.10.20.15.select.andWhere = FIND_IN_SET('33',selected_categories) OR FIND_IN_SET('34',selected_categories)
page.10.20.20 < lib.artikel
page.10.20.20.10.select.andWhere < lib.sfbAndWhere
page.10.20.20.20.select.andWhere < lib.sfbAndWhere
[global]
[globalVar = TSFE:id = 17] && [globalVar = GP:getlist = 1]
page >
page < lib.artikelNachladen
page.10.20.select.andWhere < lib.sfbAndWhere
[global]

// Task-Cluster E
[globalVar = TSFE:id = 18]
lib.sfbAndWhere = FIND_IN_SET('20',selected_categories)
lib.mitarbeiterNurNamen < lib.isOne
page.10.20.15 < lib.mitarbeiter
page.10.20.15.select.andWhere = FIND_IN_SET('36',selected_categories)
page.10.20.20 < lib.artikel
page.10.20.20.10.select.andWhere < lib.sfbAndWhere
page.10.20.20.20.select.andWhere < lib.sfbAndWhere
[global]
[globalVar = TSFE:id = 18] && [globalVar = GP:getlist = 1]
page >
page < lib.artikelNachladen
page.10.20.select.andWhere < lib.sfbAndWhere
[global]

// Artikel - Details
[globalVar = TSFE:id = 39]
//config.linkVars := addToList(artikel(int))
page.10.10.25.typolink.additionalParams := appendString(&artikel={GP:artikel})
page.10.10.25.typolink.additionalParams.insertData = 1
lib.pageDetails < lib.isOne
page.10.20 {
  20 = COA_INT
  20 {
    20 = CONTENT
    20 {
      table = tt_content
      select {
        pidInList = 28,30,35,31,32,33
        where = deleted=0 AND hidden=0
        andWhere.data = GP:artikel
        andWhere.wrap = uid=|
        andWhere.intval = 1
        max = 1
      }
    }
    wrap.cObject = COA
    wrap.cObject {
      10 < lib.zurueck
      20 = TEXT
      20.value = |
      30 < lib.zurueck
    }
  }
}
[global]

// Mitarbeiter
[globalVar = TSFE:id = 12]
page.10.20 {
  20 < .10
  20.select.where = colPos = 1
  20.wrap = <div class="mitarbeiter-liste list-view clearfix">|</div>
  99 < .10
  99.select.where = colPos = 99
  99.wrap = <article class="outro-text">|</article>
}
[global]

// Publikationen
[globalVar = TSFE:id = 19]
lib.pagePublikationsListe < lib.isOne
page.10.20 {
  20 = COA_INT
  20 {
    10 = CONTENT
    10 {
      table = tt_content
      select {
        pidInList = 35
        andWhere = bibtex_year < 10
      }
      stdWrap.required = 1
      stdWrap.wrap < lib.publikationGeplant
    }
    20 = CONTENT
    20 {
      table = tt_content
      select {
        pidInList = 35
        orderBy = bibtex_year desc, sorting
        groupBy = bibtex_year
        andWhere = NOT bibtex_year < 10
      }
      renderObj = COA
      renderObj {
        5 = TEXT
        5.value = <div id="p{field:bibtex_year}"><h2 class="text-center">{field:bibtex_year}</h2></div>
        5.value.insertData = 1
        10 = COA
        10 {
          10 < tt_content
          20 = CONTENT
          20 {
            table = tt_content
            select {
              pidInList = 35
              where = bibtex_year={field:bibtex_year}
              where.insertData = 1
              orderBy = sorting
              andWhere = NOT bibtex_art = 6
            }
          }
          wrap = <ul class="publicationen-liste">|</ul>
        }
      }
    }
  }
}
[global]

// Veranstaltungen
[globalVar = TSFE:id = 20]
lib.pageTerminListe < lib.isOne
page.10.20 {
  20 < lib.termine
  20.10.select.pidInList = 32
  20.20.select.pidInList = 32
  20.20.renderObj.10.20.select.pidInList = 32
}
[global]

// Vorträge
[globalVar = TSFE:id = 21]
lib.pageTerminListe  < lib.isOne
page.10.20 {
  20 < lib.termine
}
[global]

// Lehre
[globalVar = TSFE:id = 22]
lib.pageTerminListe < lib.isOne
page.10.20 {
  20 < lib.termine
  20.10.select.pidInList = 33
  20.20.select.pidInList = 33
  20.20.renderObj.10.20.select.pidInList = 33
}
[global]

// RSS Feed
[globalVar = GP:rss = 1]
config.disableCharsetHeader = 1
config.additionalHeaders = Content-Type: application/rss+xml;charset=utf-8
lib.rssFeed < lib.isOne
page >
page = PAGE
page.config.disableAllHeaderCode = 1
page.10 = COA_INT
page.10 {
  5 = TEXT
  5.value < lib.rssTitle
  5.wrap (
<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>|</title>
    <link>https://www.dioe.at/</link>
  )
  6 < lib.newline
  10 = TEXT
  10.value < lib.rssDescription
  10.wrap = <description>|</description>
  11 < lib.newline
  14 = TEXT
  14.value < lib.rssLang
  14.wrap (
    <language>|</language>
    <copyright>DiÖ</copyright>
  )
  15 < lib.newline
  18 < lib.RFC822
  18 {
    10.key.cObject.data = date:U
    20.data = date:U
    30.key.cObject.data = date:U
    40.data = date:U
    wrap (
    <pubDate>|</pubDate>
    <image>
      <url>https://dioe.at/fileadmin/tile.png</url>
      <title>Deutsch in Österreich</title>
      <link>https://www.dioe.at/</link>
    </image>
    <atom:link href="https://www.dioe.at/rss.xml" rel="self" type="application/rss+xml" />
    )
  }
  19 < lib.newline
  20 < lib.artikel
  20.10.select.where >
  20.10.select.max = 20
  20.wrap >
  20.20 >
  30 = TEXT
  30.value (
  </channel>
</rss>
  )
}
[global]

// Podcast Feed
[globalVar = GP:podcast = 1]
config.disableCharsetHeader = 1
config.additionalHeaders = Content-Type: application/rss+xml;charset=utf-8
lib.podcastFeed < lib.isOne
page >
page = PAGE
page.config.disableAllHeaderCode = 1
page.10 = COA_INT
page.10 {
  5 = TEXT
  5.value < lib.podcastTitle
  5.wrap (
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:itunes="http://www.itunes.com/dtds/podcast-1.0.dtd" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:fh="http://purl.org/syndication/history/1.0" >
  <channel>
    <title>|</title>
    <link>https://www.dioe.at/</link>
  )
  6 < lib.newline
  10 = TEXT
  10.value < lib.podcastDescription
  10.wrap = <description>|</description>
  11 < lib.newline
  14 = TEXT
  14.value < lib.rssLang
  14.wrap (
    <language>|</language>
    <copyright>DiÖ</copyright>
  )
  15 < lib.newline
  18 < lib.RFC822
  18 {
    10.key.cObject.data = date:U
    20.data = date:U
    30.key.cObject.data = date:U
    40.data = date:U
    wrap (
    <lastBuildDate>|</lastBuildDate>
    <image>
      <url>https://dioe.at/fileadmin/img/podcast-dioe_original.png</url>
      <title>Podcast DIOE (mp3)</title>
      <link>https://www.dioe.at/</link>
    </image>
    <atom:link rel="self" type="application/rss+xml" title="Podcast DIOE (mp3)" href="https://www.dioe.at/podcast.xml" />
    <atom:link rel="first" href="https://www.dioe.at/podcast.xml" />
    <itunes:author>Martin Gasteiner</itunes:author>
    <itunes:summary>Der FWF Spezialforschungsbereich (SFB) „Deutsch in Österreich. Variation – Kontakt – Perzeption” (F 60) beschäftigt sich mit der Vielfalt und dem Wandel der deutschen Sprache in Österreich. Die drei thematischen Säulen des Projekts sind Variation, Kontakt und Perzeption. Das heißt: Der SFB behandelt den Gebrauch und die subjektive Wahrnehmung von deutscher Sprache in Österreich und zeigt Einflüsse durch Kontaktsprachen auf. Unser Ziel ist es, die Forschungsansätze und -ergebnisse einem möglichst breiten Publikum einfach und frei zugänglich zu machen. Dieser Podcast stellt die AkteurInnen des Forschungsbereichs vor und versucht einen Einblick in die Struktur und Fragestellungen des Projekts zu geben.</itunes:summary>
    <itunes:category text="Society &amp; Culture"></itunes:category><itunes:category text="Technology"></itunes:category><itunes:category text="Education"><itunes:category text="Higher Education"></itunes:category></itunes:category>
    <itunes:owner>
  		<itunes:name>Martin Gasteiner</itunes:name>
  		<itunes:email>martin.gasteiner@univie.ac.at</itunes:email>
  	</itunes:owner>
  	<itunes:image href="https://dioe.at/fileadmin/img/podcast-dioe_original.png" />
  	<itunes:subtitle>Podcast des Spezialforschungsbereich Deutsch in Österreich</itunes:subtitle>
  	<itunes:block>no</itunes:block>
  	<itunes:explicit>no</itunes:explicit>
    )
  }
  19 < lib.newline
  20 < lib.artikel
  20.10.select.where >
  20.10.select.where = FIND_IN_SET('3',selected_categories)
  20.10.select.max = 20
  20.wrap >
  20.20 >
  30 = TEXT
  30.value (
  </channel>
</rss>
  )
}
[global]

// BibTex-Datei
[globalVar = GP:bibTex = 1] && [globalVar = TSFE:id = 39]
lib.bibTexFile < lib.isOne
page >
page = PAGE
page.config.disableAllHeaderCode = 1
page.config.additionalHeaders = Content-Type: application/x-bibtex;charset=utf-8 | Content-Disposition:attachment; filename="bibTex.bib"
page.10 = COA_INT
page.10 {
  20 = CONTENT
  20 {
    table = tt_content
    select {
      pidInList = 28,30,35,31,32,33
      where = deleted=0 AND hidden=0
      andWhere.data = GP:artikel
      andWhere.wrap = uid=|
      andWhere.intval = 1
      max = 1
    }
  }
}
[global]

// PodLove
[globalVar = GP:podlove = 1] && [globalVar = TSFE:id = 39]
lib.podLove < lib.isOne
page >
page = PAGE
page.config.disableAllHeaderCode = 1
page.10 = COA_INT
page.10 {
  20 = CONTENT
  20 {
    table = tt_content
    select {
      pidInList = 28,30,35,31,32,33
      where = deleted=0 AND hidden=0
      andWhere.data = GP:artikel
      andWhere.wrap = uid=|
      andWhere.intval = 1
      max = 1
    }
  }
}
[global]
